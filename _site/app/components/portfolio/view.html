<div class="app__component app__component--porfolio"><table ng-show="$ctrl.user.transactions.open[0]" class="app__component--portfolio__transactions"><tr class="app__component--portfolio__transactions__transaction"><th colspan="10" class="title">Open Transactions</th></tr><tr ng-init="openSort = &quot;symbol&quot;" class="app__component--portfolio__transactions__transaction"><th ng-click="openSort = openSort == &quot;symbol&quot; ? &quot;-symbol&quot; : &quot;symbol&quot;" class="text"><i ng-show="openSort == &quot;symbol&quot;" class="ion ion-arrow-down-a"></i><i ng-show="openSort == &quot;-symbol&quot;" class="ion ion-arrow-up-a"></i><span>Symbol</span></th><th ng-click="openSort = openSort == &quot;name&quot; ? &quot;-name&quot; : &quot;name&quot;" class="text"><i ng-show="openSort == &quot;name&quot;" class="ion ion-arrow-down-a"></i><i ng-show="openSort == &quot;-name&quot;" class="ion ion-arrow-up-a"></i><span>Name</span></th><th ng-click="openSort = openSort == &quot;price.open&quot; ? &quot;-price.open&quot; : &quot;price.open&quot;" class="number"><i ng-show="openSort == &quot;price.open&quot;" class="ion ion-arrow-down-a"></i><i ng-show="openSort == &quot;-price.open&quot;" class="ion ion-arrow-up-a"></i><span>Open Price</span></th><th ng-click="openSort = openSort == &quot;price.close&quot; ? &quot;-price.close&quot; : &quot;price.close&quot;" class="number"><i ng-show="openSort == &quot;price.close&quot;" class="ion ion-arrow-down-a"></i><i ng-show="openSort == &quot;-price.close&quot;" class="ion ion-arrow-up-a"></i><span>Current Price</span></th><th ng-click="openSort = openSort == &quot;shares&quot; ? &quot;-shares&quot; : &quot;shares&quot;" class="number"><i ng-show="openSort == &quot;shares&quot;" class="ion ion-arrow-down-a"></i><i ng-show="openSort == &quot;-shares&quot;" class="ion ion-arrow-up-a"></i><span>Shares</span></th><th ng-click="openSort = openSort == &quot;costBasis&quot; ? &quot;-costBasis&quot; : &quot;costBasis&quot;" class="number"><i ng-show="openSort == &quot;costBasis&quot;" class="ion ion-arrow-down-a"></i><i ng-show="openSort == &quot;-costBasis&quot;" class="ion ion-arrow-up-a"></i><span>Cost Basis</span></th><th ng-click="openSort = openSort == &quot;marketValue&quot; ? &quot;-marketValue&quot; : &quot;marketValue&quot;" class="number"><i ng-show="openSort == &quot;marketValue&quot;" class="ion ion-arrow-down-a"></i><i ng-show="openSort == &quot;-marketValue&quot;" class="ion ion-arrow-up-a"></i><span>Market Value</span></th><th ng-click="openSort = openSort == &quot;estimatedGain&quot; ? &quot;-estimatedGain&quot; : &quot;estimatedGain&quot;" class="number"><i ng-show="openSort == &quot;estimatedGain&quot;" class="ion ion-arrow-down-a"></i><i ng-show="openSort == &quot;-estimatedGain&quot;" class="ion ion-arrow-up-a"></i><span>Estimated Gain</span></th><th ng-click="openSort = openSort == &quot;estimatedGainPercent&quot; ? &quot;-estimatedGainPercent&quot; : &quot;estimatedGainPercent&quot;" class="number"><i ng-show="openSort == &quot;estimatedGainPercent&quot;" class="ion ion-arrow-down-a"></i><i ng-show="openSort == &quot;-estimatedGainPercent&quot;" class="ion ion-arrow-up-a"></i><span>Estimated Gain %</span></th><th></th></tr><tr ng-repeat="transaction in $ctrl.user.transactions.open | orderBy : openSort" class="app__component--portfolio__transactions__transaction"><th ng-repeat="quote in $ctrl.quotes | filter : transaction.symbol" ng-init="transaction.price.close = quote.level; transaction.costBasis = transaction.price.open * transaction.shares; transaction.marketValue = quote.level * transaction.shares; transaction.estimatedGain = transaction.marketValue - transaction.costBasis; transaction.estimatedGainPercent = transaction.estimatedGain / transaction.costBasis * 100" style="display: none"></th><td class="text">{{ transaction.symbol }}</td><td class="text">{{ transaction.name }}</td><td class="number">{{ transaction.price.open | currency : "$" }}</td><td class="number">{{ transaction.price.close | currency : "$" }}</td><td class="number">{{ transaction.shares }}</td><td class="number">{{ transaction.costBasis | currency : "$" }}</td><td class="number">{{ transaction.marketValue | currency : "$" }}</td><td ng-class="transaction.estimatedGain &gt;= 0 ? &quot;profit&quot; : &quot;loss&quot;" class="number">{{ transaction.estimatedGain | currency : "$" }}</td><td ng-class=" transaction.estimatedGainPercent &gt;= 0 ? &quot;profit&quot; : &quot;loss&quot;" class="number">{{  transaction.estimatedGainPercent | number : 2 }}%</td><td ng-click="$ctrl.sell($index)" class="sell"><i class="ion ion-checkmark"></i><spna>Sell</spna></td></tr></table><table class="app__component--portfolio__transactions"><tr class="app__component--portfolio__transactions__transaction"><th colspan="9" class="title">Closed Transactions</th></tr><tr ng-init="closedSort = &quot;symbol&quot;" class="app__component--portfolio__transactions__transaction"><th ng-click="closedSort = closedSort == &quot;symbol&quot; ? &quot;-symbol&quot; : &quot;symbol&quot;" class="text"><i ng-show="closedSort == &quot;symbol&quot;" class="ion ion-arrow-down-a"></i><i ng-show="closedSort == &quot;-symbol&quot;" class="ion ion-arrow-up-a"></i><span>Symbol</span></th><th ng-click="closedSort = closedSort == &quot;name&quot; ? &quot;-name&quot; : &quot;name&quot;" class="text"><i ng-show="closedSort == &quot;name&quot;" class="ion ion-arrow-down-a"></i><i ng-show="closedSort == &quot;-name&quot;" class="ion ion-arrow-up-a"></i><span>Name</span></th><th ng-click="closedSort = closedSort == &quot;price.open&quot; ? &quot;-price.open&quot; : &quot;price.open&quot;" class="number"><i ng-show="closedSort == &quot;price.open&quot;" class="ion ion-arrow-down-a"></i><i ng-show="closedSort == &quot;-price.open&quot;" class="ion ion-arrow-up-a"></i><span>Open Price</span></th><th ng-click="closedSort = closedSort == &quot;price.close&quot; ? &quot;-price.close&quot; : &quot;price.close&quot;" class="number"><i ng-show="closedSort == &quot;price.close&quot;" class="ion ion-arrow-down-a"></i><i ng-show="closedSort == &quot;-price.close&quot;" class="ion ion-arrow-up-a"></i><span>Closed Price</span></th><th ng-click="closedSort = closedSort == &quot;shares&quot; ? &quot;-shares&quot; : &quot;shares&quot;" class="number"><i ng-show="closedSort == &quot;shares&quot;" class="ion ion-arrow-down-a"></i><i ng-show="closedSort == &quot;-shares&quot;" class="ion ion-arrow-up-a"></i><span>Shares</span></th><th ng-click="closedSort = closedSort == &quot;costBasis&quot; ? &quot;-costBasis&quot; : &quot;costBasis&quot;" class="number"><i ng-show="closedSort == &quot;costBasis&quot;" class="ion ion-arrow-down-a"></i><i ng-show="closedSort == &quot;-costBasis&quot;" class="ion ion-arrow-up-a"></i><span>Cost Basis</span></th><th ng-click="closedSort = closedSort == &quot;marketValue&quot; ? &quot;-marketValue&quot; : &quot;marketValue&quot;" class="number"><i ng-show="closedSort == &quot;marketValue&quot;" class="ion ion-arrow-down-a"></i><i ng-show="closedSort == &quot;-marketValue&quot;" class="ion ion-arrow-up-a"></i><span>Market Value</span></th><th ng-click="closedSort = closedSort == &quot;gain&quot; ? &quot;-gain&quot; : &quot;gain&quot;" class="number"><i ng-show="closedSort == &quot;gain&quot;" class="ion ion-arrow-down-a"></i><i ng-show="closedSort == &quot;-gain&quot;" class="ion ion-arrow-up-a"></i><span>Gain</span></th><th ng-click="closedSort = closedSort == &quot;gainPercent&quot; ? &quot;-gainPercent&quot; : &quot;gainPercent&quot;" class="number"><i ng-show="closedSort == &quot;gainPercent&quot;" class="ion ion-arrow-down-a"></i><i ng-show="closedSort == &quot;-gainPercent&quot;" class="ion ion-arrow-up-a"></i><span>Gain %</span></th></tr><tr ng-repeat="transaction in $ctrl.user.transactions.closed | orderBy : closedSort" class="app__component--portfolio__transactions__transaction"><td class="text">{{ transaction.symbol }}</td><td class="text">{{ transaction.name }}</td><td class="number">{{ transaction.price.open | currency : "$" }}</td><td class="number">{{ transaction.price.close | currency : "$" }}</td><td class="number">{{ transaction.shares }}</td><td ng-init="transaction.costBasis = transaction.price.open * transaction.shares" class="number">{{ transaction.costBasis | currency : "$" }}</td><td ng-init="transaction.marketValue = transaction.price.close * transaction.shares" class="number">{{ transaction.marketValue | currency : "$" }}</td><td ng-init="transaction.gain = transaction.marketValue - transaction.costBasis" ng-class="transaction.gain &gt;= 0 ? &quot;profit&quot; : &quot;loss&quot;" class="number">{{ transaction.gain | currency : "$" }}</td><td ng-init="transaction.gainPercent = (transaction.gain / transaction.costBasis ) * 100" ng-class="transaction.gainPercent &gt;= 0 ? &quot;profit&quot; : &quot;loss&quot;" class="number">{{ transaction.gainPercent | number : 2 }}%</td></tr></table></div>